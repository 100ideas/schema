const path = require('path')

const fs = require('fs-extra')
const jstt = require('json-schema-to-typescript')

// Generate Typescript type definitions

const src = 'dist/Document.schema.json'
const dest = 'dist/index.d.ts'
console.log(`Generating "${dest}" from "${src}"`)

const options = {
  bannerComment: `/* tslint:disable */
/**
 * This file was automatically generated by \`schema-to-typescript.js\`.
 * Do not modify it by hand. Instead, modify the source \`.schema.json\` file
 * in the \`schema\` directory and run \`node schema-to-typescript.js\`
 * to regenerate this file.
 */`
}
fs.mkdirp('dist')
jstt.compileFromFile(src, options).then(ts => fs.writeFileSync(dest, ts))

